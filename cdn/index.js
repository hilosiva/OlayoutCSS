"use strict";const y=require("fs"),a=require("path"),M=require("postcss"),q={prefix:"ol",theme:{screens:{xxs:"375px",xs:"414px",sm:"576px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1480px"},layout:{"sm-offset":"2.5vw","md-offset":"5vw","lg-offset":"10vw","xl-offset":"15vw","sm-content-width":640,"md-content-width":765,"lg-content-width":1024,"xl-content-width":1280,"xxl-content-width":1440,"sm-design-width":375,"md-design-width":768,"lg-design-width":1440,space:8},colors:{"base-color":"#fff","main-color":"#116ec5","accent-color":"#e4d558","light-color":"#efefef","dark-color":"#1c1c1c","border-color-1":"#dedede","border-color-2":"#303030","border-color-3":"#fafafa","text-color-1":"#101010","text-color-2":"#606060","text-color-3":"#f0f0f0"},typos:{"font-set-1":'-apple-system, BlinkMacSystemFont, "Yu Gothic", sans-serif',"font-set-2":'"Helvetica Neue", "Helvetica", "Arial", sans-serif',"font-set-3":'"Times New Roman", "YuMincho", "Yu Mincho", serif',"base-line-height":1.5,"base-feature-settings":'"pkna"',"base-letter-spacing":"0.05em"},effects:{"shadow-1":"0 0 8px rgba(0, 0, 0, 0.16)","shadow-2":"2px 4px 24px -1px rgba(0, 0, 0, 0.1)","shadow-3":"8px 16px 32px -4px rgba(0, 0, 0, 0.05)"},animations:{"scroll-behavior":"smooth",easing:"cubic-bezier(0.16, 1, 0.3, 1)",duration:"0.6s"}}};function w(s){if(s==="/"||s==="\\"||g(a.join(s,"olayout.config.cjs")))return s;const t=a.dirname(s);return w(t)}function g(s){try{return y.accessSync(s),!0}catch{return!1}}function b(s,t){if(typeof s!="object"||typeof t!="object")return t;const c=Object.keys(t);for(const o of c)o in s&&typeof s[o]=="object"&&typeof t[o]=="object"?s[o]=b(s[o],t[o]):s[o]=t[o];return s}const v=(s={})=>{const t=["layout","colors","typos","effects","animations"];return{postcssPlugin:"olayout",Once(c,{result:o}){const m=a.resolve(__dirname,"assets/css/olayout.css"),j=a.dirname(o.opts.from),k=w(j),d=a.join(k,"olayout.config.cjs"),R=g(d)?require(d):{},i=b(q,R),f=new Map;try{const h=y.readFileSync(m,"utf8"),p=M.parse(h,{from:m});try{p.walkAtRules("custom-media",e=>{const n=/--ol-(\w+)/.exec(e.params);if(n){const r=n[1];if(i.theme.screens[r]){const x=`screen and (min-width: ${i.theme.screens[r]})`;e.params=`${n[0]} ${x}`,f.set(n[0],x),e.remove()}}}),p.walkRules(":root",e=>{(e.parent.type!=="atrule"||e.parent.name!=="media")&&e.walkDecls(/^--/,n=>{const r=n.prop.slice(i.prefix.length+3);t.forEach(l=>{i.theme[l][r]&&(n.value=String(i.theme[l][r]))})})})}catch(e){console.error(e.message)}const u=[];c.walkAtRules(e=>{(e.name==="charset"||e.name==="import"&&e.params.includes("//")||e.name==="font-face")&&(u.push(e),e.remove())}),c.prepend(p),u.reverse().forEach(e=>{c.prepend(e)}),c.walkAtRules("media",e=>{const n=e.params.trim().replace(/[()]/g,"");f.has(n)&&(e.params=f.get(n))})}catch{return}}}};v.postcss=!0;module.exports=v;
