"use strict";const y=require("fs"),r=require("path"),R=require("postcss"),q={prefix:"ol",theme:{screens:{min:"0",xxs:"375px",xs:"414px",sm:"576px",md:"768px",lg:"1024px",xl:"1280px",xxl:"1480px"},layout:{"sm-content-width":640,"md-content-width":765,"lg-content-width":1024,"xl-content-width":1280,"xxl-content-width":1440,"sm-design-width":375,"md-design-width":765,"lg-design-width":1440,"scrollbar-width":0,space:8},colors:{"base-color":"#fff","main-color":"#116ec5","accent-color":"#e4d558","light-color":"#efefef","dark-color":"#1c1c1c","primary-text-color":"#101010","light-text-color":"#fff"},typos:{"primary-font-set":'-apple-system, BlinkMacSystemFont, "Yu Gothic", sans-serif',"en-font-set":'"Helvetica Neue", "Helvetica", "Arial", sans-serif',"base-line-height":1.5,"base-feature-settings":'"pkna"',"base-letter-spacing":"0.05em"},animations:{"scroll-behavior":"smooth","ease-out-expo":"cubic-bezier(0.16, 1, 0.3, 1)",duration:"0.6s"}}};function x(e){if(e==="/"||e==="\\"||g(r.join(e,"olayout.config.cjs")))return e;const t=r.dirname(e);return x(t)}function g(e){try{return y.accessSync(e),!0}catch{return!1}}function w(e,t){if(typeof e!="object"||typeof t!="object")return t;const a=Object.keys(t);for(const s of a)s in e&&typeof e[s]=="object"&&typeof t[s]=="object"?e[s]=w(e[s],t[s]):e[s]=t[s];return e}const b=(e={})=>{const t=["layout","colors","typos","animations"];return{postcssPlugin:"olayout",Once(a,{result:s}){const m=r.resolve(__dirname,"assets/css/olayout.css"),j=r.dirname(s.opts.from),k=x(j),u=r.join(k,"olayout.config.cjs"),v=g(u)?require(u):{},c=w(q,v),l=new Map;try{const h=y.readFileSync(m,"utf8"),p=R.parse(h,{from:m});try{p.walkAtRules("custom-media",o=>{const n=/--ol-(\w+)/.exec(o.params);if(n){const i=n[1];if(c.theme.screens[i]){const d=`screen and (min-width: ${c.theme.screens[i]})`;o.params=`${n[0]} ${d}`,l.set(n[0],d),o.remove()}}}),p.walkRules(":root",o=>{(o.parent.type!=="atrule"||o.parent.name!=="media")&&o.walkDecls(/^--/,n=>{const i=n.prop.slice(c.prefix.length+3);t.forEach(f=>{c.theme[f][i]&&(n.value=String(c.theme[f][i]))})})})}catch(o){console.error(o.message)}a.prepend(p),console.log(l),a.walkAtRules("media",o=>{const n=o.params.trim().replace(/[()]/g,"");l.has(n)&&(o.params=l.get(n))})}catch{return}}}};b.postcss=!0;module.exports=b;
